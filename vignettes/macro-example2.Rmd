---
title: "Example 2: Table"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Example 2: Table}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Now let's look at a more complicated example.  In this example, we will 
create a parameterized demographics table.   

### Create a Demographics Table

We want to create a demographics table that can be used across different studies.
Therefore, we'll need to let the user pass in different parameters like treatment
groups, the path to the data, and which variables to include in the analysis.
The **macro** package makes it easy to create such a parameterized table.

In the listing example, we assigned parameters using the `#%let` macro command.
In this example, we set them directly in R code.  Here is how it is done:

```{r eval=FALSE, echo=TRUE}

#####################################
# Assign Macro Variables
#####################################
base_path <- "c:/Projects/David/SESUG/macro/code"

log_path. <- file.path(base_path, "log")
output_path. <- file.path(base_path, "output")
template_path. <- file.path(base_path, "templates")
data_path. <- file.path(base_path, "data")

vars. <- c("age", "ageg", "sex", "race")

titles. <- '"Table 1.0",
         "Analysis of Demographic Characteristics",
         "Safety Population"'


trt_grps <- c("ARM A" = "Placebo", "ARM B" = "Drug 50mg", "ARM C" = "Drug 100mg",
              "ARM D" = "Competitor")

env. <- "prod" # "dev"
out_type. <- "PDF"

```
Since these parameters are defined as standard R variables, you have some
more flexibility in how the parameters are populated. For example, you can 
populate them dynamically from functions.

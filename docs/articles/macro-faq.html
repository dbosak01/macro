<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Frequently Asked Questions • macro</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Frequently Asked Questions">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">macro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/macro.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/macro-setup.html">Installation and Setup</a>
    </li>
    <li>
      <a href="../articles/macro-language.html">Macro Language Reference</a>
    </li>
    <li>
      <a href="../articles/macro-symtable.html">Symbol Table Functions</a>
    </li>
    <li>
      <a href="../articles/macro-debug.html">Debugging</a>
    </li>
    <li>
      <a href="../articles/macro-globals.html">Global Options</a>
    </li>
    <li>
      <a href="../articles/macro-example1.html">Example 1: Listing</a>
    </li>
    <li>
      <a href="../articles/macro-example2.html">Example 2: Another Listing</a>
    </li>
    <li>
      <a href="../articles/macro-example3.html">Example 3: Table</a>
    </li>
    <li>
      <a href="../articles/macro-disclaimer.html">Disclaimer</a>
    </li>
    <li>
      <a href="../articles/macro-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/macro-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/macro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Frequently Asked Questions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/macro/blob/HEAD/vignettes/macro-faq.Rmd" class="external-link"><code>vignettes/macro-faq.Rmd</code></a></small>
      <div class="hidden name"><code>macro-faq.Rmd</code></div>

    </div>

    
    
<p>Below are some frequently asked questions about the
<strong>macro</strong> package. Click on the links below to navigate to
the full question and answer content.</p>
<div class="section level2">
<h2 id="top">Index<a class="anchor" aria-label="anchor" href="#top"></a>
</h2>
<ul>
<li><a href="#motivation">Why did you create the macro package?</a></li>
<li><a href="#motivation">What capabilities does the macro package
provide?</a></li>
<li><a href="#how">How does the macro package work?</a></li>
<li><a href="#functions">Can I create macro functions and do
loops?</a></li>
<li><a href="#nest">Can I nest macro conditionals?</a></li>
<li><a href="#include">How does %include work?</a></li>
<li><a href="#symput">What is the difference between symput() and
%symput()?</a></li>
<li><a href="#lines">Why are the debug line numbers off?</a></li>
<li><a href="#generate">How can I use this package to generate
code?</a></li>
<li><a href="#benefits">Why should I use this package for code
generation?</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="content">Content<a class="anchor" aria-label="anchor" href="#content"></a>
</h2>
<div class="section level3">
<h3 id="motivation">Why did you create the macro package?<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h3>
<p><strong>Q:</strong> R already has meta-programming capabilities. Why
do you want to create a macro programming capability?</p>
<p><strong>A:</strong> The <strong>macro</strong> package was motivated
specifically for code generation. The goal is to generate a program
where all variable values are resolved, and only the desired conditional
code is included in the final program. This result requires a
pre-processing and text replacement capability which is lacking in R.
The <strong>macro</strong> package fills that need.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="capabilities">What capabilities does the macro package provide?<a class="anchor" aria-label="anchor" href="#capabilities"></a>
</h3>
<p><strong>Q:</strong> It seems the R macro package provides less
features than SAS. What capabilities does it provide?</p>
<p><strong>A:</strong> The <strong>macro</strong> package supports the
following features:</p>
<ul>
<li>Macro Comments</li>
<li>Macro Variables</li>
<li>Macro Conditions</li>
<li>Macro Include</li>
<li>Macro Do Loops</li>
<li>User-Defined Macro Functions</li>
<li>Some Built-In Macro Functions</li>
</ul>
<p>These features are the most essential features of the SAS macro
language, and will allow you to do most of the things you can do in SAS.
There are many built-in macro functions in SAS that have not been
replicated in the <strong>macro</strong> package. The built-in macro
functions included in the <strong>macro</strong> package are
<code>%sysfunc()</code>, <code>%symexist()</code>, and
<code>%symput()</code>.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="how">How does the macro package work?<a class="anchor" aria-label="anchor" href="#how"></a>
</h3>
<p><strong>Q:</strong> I don’t quite get it. How am I supposed to use
this package?</p>
<p><strong>A:</strong> A macro-enabled R program is a standard R
program, with macro commands added as code comments. These special
comments act as pre-processor directives. The pre-processor directives
are resolved by the pre-processor function <code><a href="../reference/msource.html">msource()</a></code>. What
you will do is write your macro enabled program, and run it with the
<code><a href="../reference/msource.html">msource()</a></code> function instead of the <code><a href="https://rdrr.io/r/base/source.html" class="external-link">source()</a></code>
function. Normally, you will do this on the command line. By default,
the <code><a href="../reference/msource.html">msource()</a></code> function will run the currently selected
program in RStudio. Otherwise, pass the name of the program you want to
run as the first parameter on <code><a href="../reference/msource.html">msource()</a></code>. The function will
pre-process the program, resolve any macro statements, and then execute
the resolved code.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="functions">Can I create macro functions and do loops?<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<p><strong>Q:</strong> I want to create a macro function. Does the
<strong>macro</strong> package support it? What about do loops?</p>
<p><strong>A:</strong> Yes. The package supports user-defined macro
functions and do loops. The syntax is similar to SAS. Note that both of
these features are text replacement operations. They are useful
specifically when you want to replicate some chunk of code repeatedly.
Be mindful of the difference between these macro capabilities and normal
Base R functions and loops, and choose your approach appropriately.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="nest">Can I nest macro conditionals?<a class="anchor" aria-label="anchor" href="#nest"></a>
</h3>
<p><strong>Q:</strong> I have a complicated set of conditions that are
nested several levels deep. Can I do that with the
<strong>macro</strong> package?</p>
<p><strong>A:</strong> Yes. The package supports nested conditionals.
There is no limit on the number of nested levels.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="include">How does %include work?<a class="anchor" aria-label="anchor" href="#include"></a>
</h3>
<p><strong>Q:</strong> I see from the documentation there is a
“%include” macro function. How does it work? Is it the same as SAS?</p>
<p><strong>A:</strong> Yes. The “#%include” macro function replicates
the basic functionality of SAS “%include”. Text from the included file
will be extracted and inserted into the generated file. Any macro
statements in the included code will be resolved normally.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="symput">What is the difference between symput() and %symput()?<a class="anchor" aria-label="anchor" href="#symput"></a>
</h3>
<p><strong>Q:</strong> There appears to be two functions,
<code><a href="../reference/symput.html">symput()</a></code> and <code>%symput()</code>. Why? Don’t they do the
same thing?</p>
<p><strong>A:</strong> The <code><a href="../reference/symput.html">symput()</a></code> and
<code>%symput()</code> functions are similar in that they take a value
from regular R code and assign it to a macro variable. The difference in
the time they run. The <code><a href="../reference/symput.html">symput()</a></code> function runs at execution
time, and the <code>%symput()</code> function runs in the macro
pre-processor. This difference is quite significant, and that is why
there are two different functions. The <code><a href="../reference/symput.html">symput()</a></code> function
can be used in regular R code even before <code><a href="../reference/msource.html">msource()</a></code> is
called. The <code>%symput()</code> function can only be used in a macro
<code>#%let</code> statement, and will pick up values dynamically from
the generated code.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="lines">Why are the debug line numbers off?<a class="anchor" aria-label="anchor" href="#lines"></a>
</h3>
<p><strong>Q:</strong> I’m trying to debug a macro. But the line numbers
on the “In#” column don’t seem to match my program. What is going
on?</p>
<p><strong>A:</strong> The line numbers shown on the “In#” column
represent every input line processed. These lines can come from
different sources: the original program, any included code, any macro
functions, and code inside do loops. That is why the line numbers do not
necessarily match the original program one for one. When trying to find
the line that is causing an error, take these additional sources into
consideration.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="generate">How can I use this package to generate code?<a class="anchor" aria-label="anchor" href="#generate"></a>
</h3>
<p><strong>Q:</strong> In the documentation you mention that the
<strong>macro</strong> package can be used as a code generator. How does
that work?</p>
<p><strong>A:</strong> To do code generation, simply supply an output
path as the second parameter on <code><a href="../reference/msource.html">msource()</a></code>. When the second
parameter is not supplied, the function will create a temporary output
file. When the second parameter is supplied, the function will output
the resolved code to the specified path. That file is the generated
code.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div class="section level3">
<h3 id="benefits">Why should I use this package for code generation?<a class="anchor" aria-label="anchor" href="#benefits"></a>
</h3>
<p><strong>Q:</strong> There are several ways to do code generation in R
already. Why would I want to use the <strong>macro</strong> package?</p>
<p><strong>A:</strong> The advantages of using the
<strong>macro</strong> package for code generation are:</p>
<ul>
<li>It is easy to combine code from several files using the “#%include”
command.</li>
<li>Only the code inside TRUE macro conditions will be emitted to the
output file. This feature makes the resolved code more compact and
easier to read.</li>
<li>Macro variables will be resolved to the actual variable value,
instead of the variable name. For instance, a macro variable for a file
path will resolve to the actual path, instead of just the variable name.
This feature also makes the code easier to read and understand.</li>
<li>You can write your macro program so that the emitted code runs
independently, without any dependencies on external packages, systems,
or functions. This feature makes the generated code self-contained,
portable, and totally transparent.</li>
</ul>
<p><a href="#top">top</a></p>
<hr>
<!-- ### Question 1? {#q1} --><!-- **Q:** I have a question? --><!-- **A:** Answer here. --><!-- [top](#top) --><!-- ****** -->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
